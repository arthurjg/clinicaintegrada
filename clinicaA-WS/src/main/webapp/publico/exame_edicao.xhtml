<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">
	
<ui:composition template="/templates/principal.xhtml">

	<ui:define name="titulo">
		Clinica Médica A - Cadastro de Exames
	</ui:define>

	<ui:define name="corpo">

		<f:view contentType="text/html">
			
			<h2>Cadastro de Exames</h2>
			
			<h:form id="voltar">
				<h:commandLink action="/publico/exames" value="Voltar" />
			</h:form>		
			
			<hr/>			

			<h:form id="cadastro" enctype="multipart/form-data">
				<h:messages />					
				<h:inputHidden value="#{exameImagemBean.exame.id}" />

				<h:panelGrid columns="2">
					<h:outputLabel value="Exame: " for="nome" />
					<h:inputText id="nome" label="Nome"
						value="#{exameImagemBean.exame.nome}" required="true"
						size="70" requiredMessage="O nome deve ser informado" />

					<h:outputLabel value="Solicitante: " for="solicitante" />
					<h:inputText id="solicitante" label="Solicitante"
						value="#{exameImagemBean.exame.solicitante}" size="70">						
					</h:inputText>

					<h:outputLabel value="Analise: " for="analise" />
					<h:inputText id="analise" label="Analise"
						value="#{exameImagemBean.exame.analise}" size="70" />

					<h:outputLabel value="Conclusao:"	for="conclusao" />
					<h:inputText id="conclusao"	label="Conclusao" size="70"
						value="#{exameImagemBean.exame.conclusao}" />
						
					<h:outputLabel value="Paciente:" for="paciente" />
					<h:selectOneMenu value="#{exameImagemBean.pacienteId}"								 
						rendered="#{!empty exameImagemBean.pacientes}">
						<f:selectItem itemValue="" itemLabel="Selecione"/>
						<f:selectItems 	value="#{exameImagemBean.pacientes}" var="paciente"
							itemValue="#{paciente.id}" itemLabel="#{paciente.nome}"/>
					</h:selectOneMenu>	
					
					<h:outputLabel value="Clinica:"	for="clinica" />
					<h:selectOneMenu value="#{exameImagemBean.clinicaId}"								 
						rendered="#{!empty exameImagemBean.clinicas}">
						<f:selectItem itemValue="" itemLabel="Selecione"/>
						<f:selectItems 	value="#{exameImagemBean.clinicas}" var="clinica"
							itemValue="#{clinica.id}" itemLabel="#{clinica.nome}"/>
					</h:selectOneMenu>	
					
					<h:outputLabel value="Data Realização:"	for="dataRealizacao" />
					<p:calendar id="dataRealizacao" value="#{exameImagemBean.exame.dataRealizacao}" 
						pattern="dd/MM/yyyy"/>	
					
					<h:outputLabel value="Data Resultado:"	for="dataResultado" />
					<p:calendar id="dataResultado" value="#{exameImagemBean.exame.dataResultado}" 
						pattern="dd/MM/yyyy"/>	
						
				</h:panelGrid>

				<h:panelGroup>
					<fieldset>
						<legend>Imagem</legend>
						<h:panelGrid columns="2">

							<h:outputLabel value="Arquivo Exame: "
								for="arquivoExame" />
							<h:inputFile id="arquivoExame" label="Arquivo Exame" 
								value="#{exameImagemBean.imagem}"/>
							
						</h:panelGrid>
					</fieldset>
				</h:panelGroup>
				<br />
				<h:commandButton action="#{exameImagemBean.salvar}" value="Salvar" />				
				<h:commandButton type="reset" value="Limpar" />
			</h:form>

		</f:view>

	</ui:define>
</ui:composition>
</html>
